---
title:      "zshä½¿ç”¨"
date:       2017-07-10T22:01:30-12:00
author:     "Peter"
tags:       ["shell"]
categories: ["tech"]
---

>ä»¥ä¸‹åŸºäºLinuxç³»ç»Ÿ

## zshç®€ä»‹

åœ¨å†™ç¨‹åºçš„æ—¶å€™å¾ˆå¤šæ—¶å€™è¦ä¼šä½¿ç”¨shellæ“ä½œä¸€äº›å‘½ä»¤ï¼Œå› æ­¤æœ‰ä¸€ä¸ªæ¯”è¾ƒå¥½ç”¨çš„terminalååˆ†é‡è¦ã€‚åƒæœ€åŸºæœ¬çš„åœ¨æ‰§è¡Œå‘½ä»¤æ—¶è‡ªåŠ¨å¡«å……(autocomplete)åˆ°æ˜¾ç¤ºgit repoçš„branchä½ç½®ç­‰é«˜çº§çš„æ“ä½œéƒ½æ˜¯æ—¥å¸¸å¿…éœ€çš„åŠŸèƒ½ã€‚è‹¹æœè‡ªå¸¦çš„terminalç”¨çš„æ˜¯bash shellï¼Œå¾ˆå¤šåŠŸèƒ½éƒ½å·²ç»æ¶µç›–ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰å¾ˆå¤šæ”¹è¿›çš„åœ°æ–¹ï¼Œæ‰€ä»¥zshçš„åˆ°æ¥ä¸ºæ›´å¤šçš„å¼€å‘è€…æä¾›äº†ä¸€ä¸ªæ›´åŠ å¯è‡ªå®šä¹‰çš„å¹³å°ï¼Œä¹Ÿå› æ­¤æ‹¥æœ‰äº†å¾ˆå¤šç‚«é…·çš„åŠŸèƒ½ã€‚

çŒ®ä¸Šä¸€å¼ ç›®å‰çš„shellçš„æˆªå›¾ï¼š
![](/img/in-post/post-zsh/screenshot1.png)

## è®¾ç½®

å‚è€ƒ[Github](https://github.com/robbyrussell/oh-my-zsh)ä¸Šçš„å¼€æºé¡¹ç›®è¿›è¡Œè®¾ç½®ã€‚è¿™ä¸ªé¡¹ç›®ç›®å‰å·²ç»æœ‰äº†55000+çš„starï¼Œå¦‚æœæœ‰å…´è¶£ä¸€å®šä¸è¦å¿˜è®°starï¼Œä¸ç®¡ç°åœ¨ç”¨ä¸ç”¨çš„ä¸Šï¼Œè¿Ÿæ—©ä½ ä¼šå‘ç°å®ƒå¾ˆæœ‰ç”¨ã€‚ä¸‹é¢ç®€å•åœ°è®²ä¸€ä¸‹å¦‚ä½•è®¾ç½®ã€‚

### å®‰è£…

åœ¨å®‰è£…ä¹‹å‰é¦–å…ˆè¦ç¡®å®šè‡ªå·±å®‰è£…äº†**git**ï¼Œé€šè¿‡ä½¿ç”¨
```bash
git --version
```
æ¥æŸ¥çœ‹æ˜¯å¦å®‰è£…ï¼Œå¦‚æœæ²¡æœ‰å®‰è£…è¯·å‚é˜…[Gitå®˜ç½‘](https://git-scm.com/downloads)

**é€šè¿‡curl**
```bash
sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"
```
**é€šè¿‡wget**
```bash
sh -c "$(wget https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)"
```
åœ¨ä¸‹è½½å®Œä¹‹åä¼šå‡ºç°ä¸€ä¸ªç¡®è®¤ç•Œé¢ï¼Œè¾“å…¥yeså°±å¯ä»¥äº†ã€‚

### è‡ªå®šä¹‰
**Plugin**

zshæ‹¥æœ‰å¾ˆå¤špluginï¼Œåœ¨ä¸‹è½½ä¹‹å‰çš„é…ç½®æ–‡ä»¶ä¸­å·²ç»è‡ªå¸¦äº†ä¸€äº›å®˜æ–¹çš„pluginï¼Œä½†æ˜¯è¦åœ¨è®¾ç½®ç¯å¢ƒå˜é‡çš„æ–‡ä»¶ä¸­è®¾ç½®æ‰å¯ä»¥ï¼Œä½¿ç”¨ä½ æœ€å–œæ¬¢çš„editorç¼–è¾‘
```bash
vim ~/.zshrc
```
*æˆ‘ä½¿ç”¨çš„æ˜¯vim*

è¿›å…¥ä¹‹åç¼–è¾‘Pluginéƒ¨åˆ†
```
# Which plugins would you like to load? (plugins can be found in ~/.oh-my-zsh/plugins/*)
# Custom plugins may be added to ~/.oh-my-zsh/custom/plugins/
# Example format: plugins=(rails git textmate ruby lighthouse)
# Add wisely, as too many plugins slow down shell startup.
plugins=(git, npm, osx, zsh-autosuggestions)
```
*é™¤äº†gitï¼ˆæœ¬èº«å°±ä¼šæ·»åŠ ï¼‰ä¹‹å¤–ï¼Œæˆ‘è¿˜åŠ äº†npm, osx, zsh-autosuggestionsï¼ˆä¹‹åä¼šè¯´æ˜å¦‚ä½•æ·»åŠ ç¬¬ä¸‰æ–¹Pluginsï¼‰*

æ·»åŠ ä½ å–œæ¬¢çš„pluginsï¼Œå®˜æ–¹çš„pluginså¯ä»¥ä»[è¿™é‡Œ](https://github.com/robbyrussell/oh-my-zsh/wiki/Plugins)åœ¨è¿™é‡Œæ¨èä¸€ä¸‹[zsh-autosuggestions](https://github.com/zsh-users/zsh-autosuggestions)ï¼Œè¿™ä¸ªrepoé‡Œé¢æœ‰è¯¦ç»†çš„å®‰è£…æŒ‡å—ï¼Œåœ¨æ­¤ä¸èµ˜è¿°

**Theme**

ç„¶åå°±æ˜¯æœ€æœ‰è¶£çš„åœ°æ–¹--è®¾ç½®themeã€‚æ‰“å¼€.zshrc
```bash
vim ~/.zshrc
```
å¯ä»¥çœ‹åˆ°ç³»ç»Ÿè‡ªå·±å·²ç»è®¾ç½®äº†ä¸€ä¸ªä¸»é¢˜
```
# Set name of the theme to load. Optionally, if you set this to "random"
# it'll load a random theme each time that oh-my-zsh is loaded.
# See https://github.com/robbyrussell/oh-my-zsh/wiki/Themes
ZSH_THEME="robbyrussell"
```
å¦‚æœæƒ³åˆ‡æ¢æˆå®˜æ–¹çš„ä¸»é¢˜å¯ä»¥ç›´æ¥æ›´æ”¹å°±å¯ä»¥äº†ï¼Œzshæä¾›äº†å¾ˆæœ‰æ„æ€çš„randomçš„ä¸»é¢˜çš„åŠŸèƒ½ï¼Œåªè¦æ”¹æˆ**randon**å°±å¯ä»¥äº†ï¼Œå…¶ä»–è¯·è§[Theme](https://github.com/robbyrussell/oh-my-zsh/wiki/themes)

ä½†æ˜¯æœ‰äº›æ—¶å€™å¦‚æœä½¿ç”¨è‡ªå¸¦çš„fontä¼šå‡ºç°ä¹±ç çš„æƒ…å†µï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæä¾›ä¸€äº›æ”¯æŒçš„fontçš„[èµ„æº](https://github.com/powerline/fonts)ï¼Œæˆ‘çš„å»ºè®®æ˜¯ç›´æ¥git cloneä¸‹æ¥ç„¶åé€šè¿‡çœ‹æ¯ä¸€ä¸ªfontçš„é¢„è§ˆå›¾æ¥å†³å®šä¸‹è½½å“ªä¸€ä¸ªï¼Œå¦‚æœæ˜¯OSXç›´æ¥åŒå‡»å³å¯å®‰è£…å®Œæˆã€‚å¦‚æœæƒ³è¦å®‰è£…æ‰€æœ‰çš„fontç›´æ¥ä½¿ç”¨å°±å¯ä»¥äº†ã€‚
```bash
./install.sh
```

ä¸‹é¢è®²ä¸€ä¸‹è®¾ç½®fontã€‚åœ¨OSXè‡ªå¸¦çš„bash terminalä¸­ç‚¹å‡» **preference** æˆ–è€… **command,** æ‰“å¼€åå¥½è®¾ç½®ã€‚åœ¨Profileä¸‹é€‰æ‹©fontï¼Œç„¶åæ ¹æ®è‡ªå·±çš„å–œå¥½é€‰æ‹©å³å¯ã€‚
ä¸è¿‡æˆ‘ä¸ªäººæ¨èä½¿ç”¨iTermï¼Œå®ƒçš„ç”¨æˆ·ä½“éªŒæ›´åŠ å®Œå–„ï¼Œé€šè¿‡[Homebrew](https://brew.sh/)ä¸‹è½½brewï¼Œç„¶åè¾“å…¥
```bash
brew cask install iterm2
```
å®Œæˆä¸‹è½½ï¼Œåœ¨Launchpadä¸­å°±å¯ä»¥çœ‹åˆ°iTermçš„å›¾æ ‡äº†ï¼Œä¹‹åå°±æ˜¯è·Ÿbash terminalè®¾ç½®åŒæ ·çš„æ­¥éª¤ï¼Œé€‰æ‹©profileçš„fontæ›´æ”¹ï¼Œåœ¨è¿™é‡Œæ”¾ä¸€ä¸ªæ•´åˆiTermä¸zshçš„[Gist](https://gist.github.com/kevin-smets/8568070)

## æ€»ç»“ä¸æ³¨æ„

åœ¨ä½¿ç”¨bashçš„æ—¶å€™ä½ å¯èƒ½ä¼šåœ¨ **.bash_profile** ä¸­æ·»åŠ ä¸€äº›ç¯å¢ƒå˜é‡ï¼Œåƒä¸‡ä¸è¦å¿˜è®°åœ¨zshä¸­ä¹Ÿè¦æ·»åŠ ï¼Œæˆ‘ä¹‹å‰å¿˜è®°æ·»åŠ Anacondaçš„å˜é‡å¯¼è‡´æ— æ³•ä½¿ç”¨å‘½ä»¤ï¼Œå¸Œæœ›å¤§å®¶ä¸è¦çŠ¯è¿™æ ·çš„é”™è¯¯ã€‚æ€»ä½“æ¥è¯´zshæ˜¯ä¸€ä¸ªä¸é”™çš„å°å·¥å…·ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™å¸¦æ¥äº†å¾ˆå¤šä¾¿æ·çš„åœ°æ–¹ï¼Œä¹Ÿç»™äº†ç”¨æˆ·å¾ˆå¤šè‡ªç”±çš„å‘æŒ¥ç©ºé—´æ¥è®¾ç½®ï¼Œæˆ‘è§‰å¾—å®ƒä¸[Atom](https://atom.io/)ï¼ˆè™½ç„¶è¿™ä¸¤ä¸ªæ²¡å•¥å…³ç³»å§ğŸ˜„ï¼‰çš„ç†å¿µç›¸ä¸€è‡´ï¼Œè¿™æ ·å®Œå…¨å¼€æºçš„é¡¹ç›®æˆ‘æƒ³ä¹Ÿä¼šæ˜¯æœªæ¥çš„è¶‹åŠ¿ã€‚

--Haoyang
