<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><style type=text/css>body{font-family:monospace}</style><title>zsh使用</title><link rel=stylesheet href=/css/style.css></head><body><header>===================<br>== <a href=https://blog.peterchen.xyz/>颢阳's Blog</a> ==<br>===================<div style=float:right>blog for everything</div><br><p><nav><a href=/><b>Start</b></a>.
<a href=/posts/><b>Posts</b></a>.
<a href=/reads/><b>Reads</b></a>.
<a href=/categories/><b>Categories</b></a>.
<a href=/tags/><b>Tags</b></a>.</nav></p><script>MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']],displayMath:[['$$','$$'],['\\[','\\]']],processEscapes:!0,processEnvironments:!0},options:{skipHtmlTags:['script','noscript','style','textarea','pre']}},window.addEventListener('load',a=>{document.querySelectorAll("mjx-container").forEach(function(a){a.parentElement.classList+='has-jax'})})</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest></header><main><article><h1>zsh使用</h1><b><time>07.10.2017 22:01</time></b>
<a href=/tags/shell>shell</a><div><blockquote><p>以下基于Linux系统</p></blockquote><h2 id=zsh简介>zsh简介</h2><p>在写程序的时候很多时候要会使用shell操作一些命令，因此有一个比较好用的terminal十分重要。像最基本的在执行命令时自动填充(autocomplete)到显示git repo的branch位置等高级的操作都是日常必需的功能。苹果自带的terminal用的是bash shell，很多功能都已经涵盖，但是还是有很多改进的地方，所以zsh的到来为更多的开发者提供了一个更加可自定义的平台，也因此拥有了很多炫酷的功能。</p><p>献上一张目前的shell的截图：<figure><img src=/img/in-post/post-zsh/screenshot1.png alt></figure></p><h2 id=设置>设置</h2><p>参考<a href=https://github.com/robbyrussell/oh-my-zsh>Github</a>上的开源项目进行设置。这个项目目前已经有了55000+的star，如果有兴趣一定不要忘记star，不管现在用不用的上，迟早你会发现它很有用。下面简单地讲一下如何设置。</p><h3 id=安装>安装</h3><p>在安装之前首先要确定自己安装了<strong>git</strong>，通过使用</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git --version
</code></pre></div><p>来查看是否安装，如果没有安装请参阅<a href=https://git-scm.com/downloads>Git官网</a></p><p><strong>通过curl</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sh -c <span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</code></pre></div><p><strong>通过wget</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sh -c <span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>wget https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</code></pre></div><p>在下载完之后会出现一个确认界面，输入yes就可以了。</p><h3 id=自定义>自定义</h3><p><strong>Plugin</strong></p><p>zsh拥有很多plugin，在下载之前的配置文件中已经自带了一些官方的plugin，但是要在设置环境变量的文件中设置才可以，使用你最喜欢的editor编辑</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>vim ~/.zshrc
</code></pre></div><p><em>我使用的是vim</em></p><p>进入之后编辑Plugin部分</p><pre><code># Which plugins would you like to load? (plugins can be found in ~/.oh-my-zsh/plugins/*)
# Custom plugins may be added to ~/.oh-my-zsh/custom/plugins/
# Example format: plugins=(rails git textmate ruby lighthouse)
# Add wisely, as too many plugins slow down shell startup.
plugins=(git, npm, osx, zsh-autosuggestions)
</code></pre><p><em>除了git（本身就会添加）之外，我还加了npm, osx, zsh-autosuggestions（之后会说明如何添加第三方Plugins）</em></p><p>添加你喜欢的plugins，官方的plugins可以从<a href=https://github.com/robbyrussell/oh-my-zsh/wiki/Plugins>这里</a>在这里推荐一下<a href=https://github.com/zsh-users/zsh-autosuggestions>zsh-autosuggestions</a>，这个repo里面有详细的安装指南，在此不赘述</p><p><strong>Theme</strong></p><p>然后就是最有趣的地方&ndash;设置theme。打开.zshrc</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>vim ~/.zshrc
</code></pre></div><p>可以看到系统自己已经设置了一个主题</p><pre><code># Set name of the theme to load. Optionally, if you set this to &quot;random&quot;
# it'll load a random theme each time that oh-my-zsh is loaded.
# See https://github.com/robbyrussell/oh-my-zsh/wiki/Themes
ZSH_THEME=&quot;robbyrussell&quot;
</code></pre><p>如果想切换成官方的主题可以直接更改就可以了，zsh提供了很有意思的random的主题的功能，只要改成<strong>randon</strong>就可以了，其他请见<a href=https://github.com/robbyrussell/oh-my-zsh/wiki/themes>Theme</a></p><p>但是有些时候如果使用自带的font会出现乱码的情况，所以在这里提供一些支持的font的<a href=https://github.com/powerline/fonts>资源</a>，我的建议是直接git clone下来然后通过看每一个font的预览图来决定下载哪一个，如果是OSX直接双击即可安装完成。如果想要安装所有的font直接使用就可以了。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>./install.sh
</code></pre></div><p>下面讲一下设置font。在OSX自带的bash terminal中点击 <strong>preference</strong> 或者 <strong>command,</strong> 打开偏好设置。在Profile下选择font，然后根据自己的喜好选择即可。
不过我个人推荐使用iTerm，它的用户体验更加完善，通过<a href=https://brew.sh/>Homebrew</a>下载brew，然后输入</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>brew cask install iterm2
</code></pre></div><p>完成下载，在Launchpad中就可以看到iTerm的图标了，之后就是跟bash terminal设置同样的步骤，选择profile的font更改，在这里放一个整合iTerm与zsh的<a href=https://gist.github.com/kevin-smets/8568070>Gist</a></p><h2 id=总结与注意>总结与注意</h2><p>在使用bash的时候你可能会在 <strong>.bash_profile</strong> 中添加一些环境变量，千万不要忘记在zsh中也要添加，我之前忘记添加Anaconda的变量导致无法使用命令，希望大家不要犯这样的错误。总体来说zsh是一个不错的小工具，在使用的时候带来了很多便捷的地方，也给了用户很多自由的发挥空间来设置，我觉得它与<a href=https://atom.io/>Atom</a>（虽然这两个没啥关系吧😄）的理念相一致，这样完全开源的项目我想也会是未来的趋势。</p><p>&ndash;Haoyang</p></div></article></main><aside><div><div><h3>LATEST POSTS</h3></div><div><ul><li><a href=/posts/how-to-talk/>How to Talk</a></li><li><a href=/posts/why-doordash-cannot-deliver-your-order-properly/>Why DoorDash Cannot Deliver Your Order Properly</a></li><li><a href=/posts/create-responsive-shortcode/>Create Responsive Shortcode</a></li><li><a href=/posts/what-does-it-mean-when-you-turn-25/>What Does It Mean When You Turn 25</a></li><li><a href=/posts/how-do-i-create-this-site/>How Do I Create This Site</a></li></ul></div></div></aside><footer><p>&copy; 2021 <a href=https://blog.peterchen.xyz/><b>颢阳</b></a>.
<a href=https://github.com/advpetc><b>Github</b></a>.
<a href=/imprint><b>Imprint</b></a>.</p></footer></body></html>