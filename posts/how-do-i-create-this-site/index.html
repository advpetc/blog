<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><style type=text/css>body{font-family:monospace}</style><title>How Do I Create This Site</title><link rel=stylesheet href=/css/style.css></head><body><header>===================<br>== <a href=https://blog.peterchen.xyz/>颢阳's Blog</a> ==<br>===================<div style=float:right>blog for everything</div><br><p><nav><a href=/><b>Start</b></a>.
<a href=/posts/><b>Posts</b></a>.
<a href=/reads/><b>Reads</b></a>.
<a href=/categories/><b>Categories</b></a>.
<a href=/tags/><b>Tags</b></a>.</nav></p><script>MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']],displayMath:[['$$','$$'],['\\[','\\]']],processEscapes:!0,processEnvironments:!0},options:{skipHtmlTags:['script','noscript','style','textarea','pre']}},window.addEventListener('load',a=>{document.querySelectorAll("mjx-container").forEach(function(a){a.parentElement.classList+='has-jax'})})</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest></header><main><article><h1>How Do I Create This Site</h1><p><b>Posted
on <time>02.14.2021 21:15</time>
in
<a href=/categories/tech>tech</a></b>
• 804 words
• 4 minute read<br>Tags:
<a href=/tags/blogging>blogging</a></p><div><p>I have browsed through a lot of beautiful sites that are created by Github page, and I want to try a new statics site framework, so I started this site using <strong>Hugo</strong>.</p><p>Here are the step by step guide that reproduces the entire process.</p><h2 id=install-hugo-through-homebrew>Install Hugo through Homebrew</h2><p>Just follow what <a href=https://gohugo.io/getting-started/installing/#homebrew-macos>Hugo Documentation</a> said here.</p><h2 id=try-out-the-rudimentary-theme>Try out the rudimentary theme</h2><p>Before you install other themes, first run <code>$ hugo new site blog</code>. You will now have a folder called &ldquo;blog&rdquo;, open this directory.</p><p>I try out <a href=https://github.com/giraffeacademy/ga-hugo-theme>ga-hugo-theme</a> from Graffeacademy by Mike Dane. He also has a wonderful series of youtube videos showing you how to create the site from step zero, refer here:<div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/WvhCGlLcrF8 style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div></p><p>To install a theme, you go to the theme folder and run <code>$ git clone &lt;Github URL of the theme></code>. Now if you dive into the themes folder, you can find the theme has the same structure as we have already.</p><h2 id=writing-posts>Writing posts</h2><p>Now you can try to create some posts under the &ldquo;content&rdquo; directory. Do the following will create a post named &ldquo;a.md&rdquo; under the &ldquo;content/posts/&rdquo; directory.</p><p><code>$ hugo new posts/a.md</code></p><p>If you check the &ldquo;a.md&rdquo; file from the &ldquo;posts/&rdquo; directory, you can see there are several lines at the top of the file:</p><pre><code>---
title: &quot;a&quot;
date: 2021-02-14T13:38:33-06:00
draft: true
---
</code></pre><p>This is called <a href=https://gohugo.io/content-management/front-matter/>Front Matter</a>. Hugo has a very smart mechanism for using front matter, and you can
check out their documentation.</p><p>Run <code>$ hugo server -D</code> to check out the new post you just created. Note the <code>-D</code> flag means it will publish the post even if it&rsquo;s a draft version (check draft front matter, we set it to true now).</p><h2 id=content-structure-_indexmd>Content structure: _index.md</h2><p>Each folder you created will by default has a &ldquo;index page&rdquo; showing a summary of all the files under that directory. Ideally, it should be:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown>Title: some summary

<span style=color:#66d9ef>*</span> __link1 for post1__
<span style=color:#66d9ef>*</span> __link2 for post2__
</code></pre></div><p>You could also override this layout or content by creating a new file called &ldquo;_index.md&rdquo; under that directory. Just remember this filename has to be exactly &ldquo;_index.md&rdquo;.
&ldquo;_index.md&rdquo; is just like another post file which should include the front matter at the top.</p><h2 id=design-your-layouts>Design your layouts</h2><p>If you are using others' themes (which I do), you need to know two different layouts for your blog:</p><ol><li>single.html</li><li>list.html</li></ol><p>These two layouts essentially define how will your post be shown. To override them, create your own layout html files under &ldquo;layouts/_default/&rdquo;.</p><p>Here is what single.html looks like:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>{{ define &#34;main&#34; }}
	&lt;<span style=color:#f92672>main</span>&gt;
		&lt;<span style=color:#f92672>article</span>&gt;
			&lt;<span style=color:#f92672>h1</span>&gt;{{ .Title }}&lt;/<span style=color:#f92672>h1</span>&gt;
			&lt;<span style=color:#f92672>b</span>&gt;&lt;<span style=color:#f92672>time</span>&gt;{{ .Date.Format (default &#34;2006-01-02 15:04:05&#34; .Site.Params.dateFmt) }}&lt;/<span style=color:#f92672>time</span>&gt;&lt;/<span style=color:#f92672>b</span>&gt;
		       {{ range .Params.tags }}
		           &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;{{ &#34;</span><span style=color:#960050;background-color:#1e0010>/</span><span style=color:#a6e22e>tags</span><span style=color:#960050;background-color:#1e0010>/&#34;</span> <span style=color:#960050;background-color:#1e0010>|</span> <span style=color:#a6e22e>relLangURL</span> <span style=color:#960050;background-color:#1e0010>}}{{</span> <span style=color:#960050;background-color:#1e0010>.</span> <span style=color:#960050;background-color:#1e0010>|</span> <span style=color:#a6e22e>urlize</span> <span style=color:#960050;background-color:#1e0010>}}&#34;</span>&gt;{{ . }}&lt;/<span style=color:#f92672>a</span>&gt;
        	       {{ end }}

			&lt;<span style=color:#f92672>div</span>&gt;
				{{ .Content }}
			&lt;/<span style=color:#f92672>div</span>&gt;
		&lt;/<span style=color:#f92672>article</span>&gt;
	&lt;/<span style=color:#f92672>main</span>&gt;
{{ partial &#34;sidebar.html&#34; . }}
{{ end }}
</code></pre></div><p>In the block <code>{{ define "main" }}</code>, it defines a template called &ldquo;main&rdquo;. In main, you can see <code>{{ .Title }}</code>, which is
called <a href=https://gohugo.io/variables/site/>variables</a>. &ldquo;.Title&rdquo; (short for &ldquo;.Params.Title&rdquo;) is also a site variable, which means it could be accessed
site-wide. You can also find <code>{{ range .Params.tags }}</code>, and <code>range</code> is a <a href=https://gohugo.io/templates/introduction/#functions>function</a>.</p><p>You don&rsquo;t need to create your function in most of cases, and you can check the refereces table from hugo documentation.</p><p>However, there is one special layout I created: <a href=https://gohugo.io/content-management/shortcodes/#what-a-shortcode-is>shortcode</a>.
I use it for inserting some embedded contents to my post, for example, a linkedin post. I create a file called &ldquo;linkedin.html&rdquo; under &ldquo;layouts/shortcodes/&rdquo;. A shortcode is just a simple function that you could add it to your markdown file to show some nice embedded content like:</p><pre><code> {{&lt; youtube irhR5SkqswE &gt;}}
</code></pre><p>This will be embedded as:<div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/irhR5SkqswE style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div></p><p>Isn&rsquo;t it cool :)</p><p>Creating a shortcode is also very simple, here is what I create:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>div</span>&gt;
&lt;<span style=color:#f92672>iframe</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://www.linkedin.com/embed/feed/update/urn:li:share:{{ index .Params 0 }}&#34;</span> <span style=color:#a6e22e>height</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;1332&#34;</span> <span style=color:#a6e22e>width</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;504&#34;</span> <span style=color:#a6e22e>frameborder</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;0&#34;</span> <span style=color:#a6e22e>allowfullscreen</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;&#34;</span> <span style=color:#a6e22e>title</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Embedded post&#34;</span>&gt;&lt;/<span style=color:#f92672>iframe</span>&gt;
&lt;/<span style=color:#f92672>div</span>&gt;
</code></pre></div><p>&ndash;all these are not written by me, but by Linkedin. I just create <code>{{ index. Params 0 }}</code> to grab the first argument of the input from our markdown file. Now I have</p><pre><code>{{&lt; linkedin 6765427141384380416 &gt;}}
</code></pre><p>shown as:<style>.container{position:relative;overflow:hidden;width:100%;padding-top:75%}.responsive-iframe{position:absolute;top:0;left:0;bottom:0;right:0;width:100%;height:100%}</style><div class=container><iframe class=responsive-iframe src=https://www.linkedin.com/embed/feed/update/urn:li:share:6765427141384380416 frameborder=0 allowfullscreen title="Embedded post"></iframe></div></p><p>Yay!</p><h2 id=deployment-with-github-page>Deployment with Github Page</h2><p>As the final step, I use Github Action to build my website and host it through Github Page.</p><p>I follow the <a href=https://gohugo.io/hosting-and-deployment/hosting-on-github/#build-hugo-with-github-action>this</a> script to build my website.</p><p>The only thing to keep in mind is never forget to change all the draft parameter in each post to false, so that they will be shown correctly.</p><p>I also use smol theme, so I need to set up the submodule for that Github repo under my &ldquo;themes/&rdquo;. Create a &ldquo;.gitmodules&rdquo; under the root, and write:</p><pre><code>[submodule &quot;themes/smol&quot;]
    path = themes/smol
    url = https://github.com/colorchestra/smol.git
</code></pre><p>Finally, commit and push, you are all set now!</p></div></article></main><div><a class=prev href=https://blog.peterchen.xyz/posts/system-design/ title="System Design">« System Design</a>
<a class=next href=https://blog.peterchen.xyz/posts/what-does-it-mean-when-you-turn-25/ title="What Does It Mean When You Turn 25">What Does It Mean When You Turn 25 »</a></div><aside><div><div><h3>LATEST POSTS</h3></div><div><ul><li><a href=/posts/%E5%B0%8F%E5%86%B7%E7%94%9F%E6%B0%94%E6%8C%87%E5%8D%97/>小冷生气指南</a></li><li><a href=/reads/cpp-primer-ch2/>Cpp Primer Chapter 2</a></li><li><a href=/reads/cpp-primer-ch1/>Cpp Primer Chapter 1</a></li><li><a href=/posts/%E8%B4%A9%E5%8D%96%E7%84%A6%E8%99%91%E6%95%99%E7%A8%8B/>贩卖焦虑教程</a></li><li><a href=/posts/email-as-a-course/>Emailing as a Course</a></li></ul></div></div></aside><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var b=document,a=b.createElement('script');a.async=!0,a.src='//blog-zo8ylgqplu.disqus.com/embed.js',a.setAttribute('data-timestamp',+new Date),(b.head||b.body).appendChild(a)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a><footer><p>&copy; 2021 <a href=https://blog.peterchen.xyz/><b>颢阳</b></a>.
<a href=https://github.com/advpetc><b>Github</b></a>.
<a href=/imprint><b>Imprint</b></a>.</p></footer></body></html>