<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><style type=text/css>body{font-family:monospace}</style><title>Cpp Primer Chapter 1</title><link rel=stylesheet href=/css/style.css></head><body><header>===================<br>== <a href=https://blog.peterchen.xyz/>颢阳's Blog</a> ==<br>===================<div style=float:right>blog for everything</div><br><p><nav><a href=/><b>Start</b></a>.
<a href=/posts/><b>Posts</b></a>.
<a href=/reads/><b>Reads</b></a>.
<a href=/categories/><b>Categories</b></a>.
<a href=/tags/><b>Tags</b></a>.</nav></p><script>MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']],displayMath:[['$$','$$'],['\\[','\\]']],processEscapes:!0,processEnvironments:!0},options:{skipHtmlTags:['script','noscript','style','textarea','pre']}},window.addEventListener('load',a=>{document.querySelectorAll("mjx-container").forEach(function(a){a.parentElement.classList+='has-jax'})})</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest></header><main><article><h1>Cpp Primer Chapter 1</h1><p><b>Posted
on <time>05.24.2021 21:36</time>
in
<a href=/categories/book>book</a></b>
• 572 words
• 3 minute read<br>Tags:
<a href=/tags/cpp>cpp</a>, <a href=/tags/cpp-primer>cpp primer</a></p><div><p>Starting from today, I will read and write notes for C++ primer. I will only write notes that I think that is important, so not all the contents will be covered.</p><h2 id=design-a-bookstore>Design a bookstore</h2><p>Our store keeps a file of transactions, each of which records the sale of one or more copies of a single book. Each transaction contains three data elements:</p><pre><code>     0-201-70353-X 4 24.99
</code></pre><p>The first element is an ISBN (International Standard Book Number, a unique book identifier), the second is the number of copies sold, and the last is the price at which each of these copies was sold.</p><h3 id=main><code>main</code></h3><h4 id=original>Original</h4><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c++ data-lang=c++><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e>#include</span> <span style=color:#75715e>&#34;Sales_item.h&#34;</span><span style=color:#75715e>
</span><span style=color:#75715e></span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
  Sales_item book;
  <span style=color:#75715e>// read ISBN, number of copies sold, and sales price
</span><span style=color:#75715e></span>  std<span style=color:#f92672>::</span>cin <span style=color:#f92672>&gt;&gt;</span> book;
  <span style=color:#75715e>// write ISBN, number of copies sold, total revenue, and average price 
</span><span style=color:#75715e></span>  std<span style=color:#f92672>::</span>cout <span style=color:#f92672>&lt;&lt;</span> book <span style=color:#f92672>&lt;&lt;</span> std<span style=color:#f92672>::</span>endl;
  <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>; 
}

</code></pre></div><h4 id=adding-sales_items>Adding <code>Sales_items</code></h4><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c++ data-lang=c++><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e>#include</span> <span style=color:#75715e>&#34;Sales_item.h&#34;</span><span style=color:#75715e>
</span><span style=color:#75715e></span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
  Sales_item item1, item2;
  std<span style=color:#f92672>::</span>cin <span style=color:#f92672>&gt;&gt;</span> item1 <span style=color:#f92672>&gt;&gt;</span> item2; <span style=color:#75715e>// read a pair of transactions 
</span><span style=color:#75715e></span>  std<span style=color:#f92672>::</span>cout <span style=color:#f92672>&lt;&lt;</span> item1 <span style=color:#f92672>+</span> item2 <span style=color:#f92672>&lt;&lt;</span> std<span style=color:#f92672>::</span>endl; <span style=color:#75715e>// print their sum
</span><span style=color:#75715e></span>  <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>; 
}
</code></pre></div><h4 id=completed-main>Completed <code>main</code></h4><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c++ data-lang=c++><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e>#include</span> <span style=color:#75715e>&#34;Sales_item.h&#34;</span><span style=color:#75715e>
</span><span style=color:#75715e></span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>() {
  Sales_item total; <span style=color:#75715e>// variable to hold data for the next transaction
</span><span style=color:#75715e></span>	<span style=color:#75715e>// read the first transaction and ensure that there are data to process 
</span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> (std<span style=color:#f92672>::</span>cin <span style=color:#f92672>&gt;&gt;</span> total) {
		Sales_item trans; <span style=color:#75715e>// variable to hold the running sum 
</span><span style=color:#75715e></span>		<span style=color:#75715e>// read and process the remaining transactions
</span><span style=color:#75715e></span>		<span style=color:#66d9ef>while</span> (std<span style=color:#f92672>::</span>cin <span style=color:#f92672>&gt;&gt;</span> trans) { <span style=color:#75715e>// if we’re still processing the same book
</span><span style=color:#75715e></span>			<span style=color:#66d9ef>if</span> (total.isbn() <span style=color:#f92672>==</span> trans.isbn())
				total <span style=color:#f92672>+=</span> trans; <span style=color:#75715e>// update the running total 
</span><span style=color:#75715e></span>      <span style=color:#66d9ef>else</span> { <span style=color:#75715e>// print results for the previous book
</span><span style=color:#75715e></span>        std<span style=color:#f92672>::</span>cout <span style=color:#f92672>&lt;&lt;</span> total <span style=color:#f92672>&lt;&lt;</span> std<span style=color:#f92672>::</span>endl;
        total <span style=color:#f92672>=</span> trans; <span style=color:#75715e>// total now refers to the next book
</span><span style=color:#75715e></span>      } 
    }
    std<span style=color:#f92672>::</span>cout <span style=color:#f92672>&lt;&lt;</span> total <span style=color:#f92672>&lt;&lt;</span> std<span style=color:#f92672>::</span>endl; <span style=color:#75715e>// print the last transaction 
</span><span style=color:#75715e></span>  } <span style=color:#66d9ef>else</span> { <span style=color:#75715e>// no input! warn the user
</span><span style=color:#75715e></span>    std<span style=color:#f92672>::</span>cerr <span style=color:#f92672>&lt;&lt;</span> <span style=color:#e6db74>&#34;No data?!&#34;</span> <span style=color:#f92672>&lt;&lt;</span> std<span style=color:#f92672>::</span>endl; 
    <span style=color:#66d9ef>return</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#75715e>// indicate failure
</span><span style=color:#75715e></span>  }
  <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>; 
}

</code></pre></div><p>Only if the <code>isbn</code> of two books are the same can we add them together.</p><h2 id=get-the-status-code-returned-by-main>Get the status code returned by <code>main()</code></h2><p>The value returned from main is accessed in a system-dependent manner. On both UNIX and Windows systems, after executing the program, you must issue an appropriate echo command.</p><p>On UNIX systems, we obtain the status by writing</p><p><code>\$ echo $?</code></p><p>To see the status on a Windows system, we write</p><p><code>$ echo %ERRORLEVEL%</code></p><h2 id=exercise-116>Exercise 1.16</h2><p>Write your own version of a program that prints the sum of a set of integers read from <code>cin</code>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c++ data-lang=c++><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span><span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
{
    <span style=color:#66d9ef>int</span> sum <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
  	<span style=color:#75715e>// read in until no input or empty input
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> val; std<span style=color:#f92672>::</span>cin <span style=color:#f92672>&gt;&gt;</span> val; sum <span style=color:#f92672>+=</span> val);
    std<span style=color:#f92672>::</span>cout <span style=color:#f92672>&lt;&lt;</span> sum <span style=color:#f92672>&lt;&lt;</span> std<span style=color:#f92672>::</span>endl;

    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
}
</code></pre></div><h2 id=class>Class</h2><p>To use a class we need to know three things:</p><ul><li>What is its name?</li><li>Where is it defined?</li><li>What operations does it support?</li></ul><h2 id=terms>Terms</h2><ol><li>From <code>std::cout &lt;&lt; "Enter two numbers:"; std::cout &lt;&lt; std::endl;</code>, the message is a <strong>string literal</strong>, The second operator prints endl, which is a special value called a <strong>manipulator</strong>.</li><li>The prefix <code>std::</code> indicates that the names <code>cout</code> and <code>endl</code> are defined inside the <code>namespace</code> named <code>std</code>. <strong>Namespace</strong> allows us to avoid inadvertent collision between the names we defined and uses of those same names inside a library.</li><li>Conventionally, <strong>header file names</strong> are derived from the name of a class defined in that header. Header files that we write usually have a suffix of .h, but some programmers use .H, .hpp, or .hxx.</li></ol></div></article></main><div><a class=prev href=https://blog.peterchen.xyz/posts/%E8%B4%A9%E5%8D%96%E7%84%A6%E8%99%91%E6%95%99%E7%A8%8B/ title=贩卖焦虑教程>« 贩卖焦虑教程</a>
<a class=next href=https://blog.peterchen.xyz/reads/cpp-primer-ch2/ title="Cpp Primer Chapter 2">Cpp Primer Chapter 2 »</a></div><aside><div><div><h3>LATEST POSTS</h3></div><div><ul><li><a href=/reads/cpp-primer-ch4/>Cpp Primer Chapter 4</a></li><li><a href=/reads/cpp-primer-ch3/>Cpp Primer Chapter 3</a></li><li><a href=/reads/cpp-primer-ch2/>Cpp Primer Chapter 2</a></li><li><a href=/reads/cpp-primer-ch1/>Cpp Primer Chapter 1</a></li><li><a href=/posts/%E8%B4%A9%E5%8D%96%E7%84%A6%E8%99%91%E6%95%99%E7%A8%8B/>贩卖焦虑教程</a></li></ul></div></div></aside><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var b=document,a=b.createElement('script');a.async=!0,a.src='//blog-zo8ylgqplu.disqus.com/embed.js',a.setAttribute('data-timestamp',+new Date),(b.head||b.body).appendChild(a)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a><footer><p>&copy; 2021 <a href=https://blog.peterchen.xyz/><b>颢阳</b></a>.
<a href=https://github.com/advpetc><b>Github</b></a>.
<a href=/imprint><b>Imprint</b></a>.</p></footer></body></html>